<html>
  <head>
    <title>Simple Cloud Auth Server</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="static/bootstrap.min.css" rel="stylesheet" media="screen">
  </head>
  <body>
    <div class="container">
      <div class="jumbotron">
        <h1 class="display-3">Simple Cloud Auth Server</h1>
      </div>
      <h3>Create new user</h3>
      <br>
      <form method="POST" name="newUserForm">
        <p>Enter username <input type='text' name="username" onChange="validate()"> </p>
        <p>Enter password <input type='password' name="password" onChange="validate()"> </p>
        <p>Confirm password <input type='password' name="confirmPassword" onChange="validate()"> </p>
        <input type="submit" class="btn btn-primary" value="Add" id="formSubmit" disabled="true" title="Make sure you have filled input fields, passwords should match">
        <!-- make sure password and re enter password is same -->
      </form>
      <br><br><br>
      <p>Click <a href="/">here</a> to go home.</p>
    </div>
	<script>
    function validate() {
      let u = document.forms["newUserForm"]["username"].value;
      let p = document.forms["newUserForm"]["password"].value;
	  let p1 = document.forms["newUserForm"]["confirmPassword"].value;
      if (u == "" || p == "" || p1 == "") {
        document.getElementById("formSubmit").disabled = true;
      }
	  else if (p.length < 8) {
        alert("password should be more than 8 characters")
        document.getElementById("formSubmit").disabled = true;
      }
	  else if (p != p1) {
		  console.log("passwords need to be same")
		  document.getElementById("formSubmit").disabled = true;
	  }
      else {
        document.getElementById("formSubmit").disabled = false;
      }
    }
    </script>
  </body>
</html>